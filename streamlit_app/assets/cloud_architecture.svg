<svg width="900" height="540" viewBox="0 0 900 540" xmlns="http://www.w3.org/2000/svg">
  <style>
    .title { font: 20px sans-serif; fill: #1f2933; }
    .subtitle { font: 14px sans-serif; fill: #52606d; }
    .label { font: 13px sans-serif; fill: #102a43; }
    .note { font: 12px sans-serif; fill: #829ab1; }
    .box { fill: #f0f4f8; stroke: #486581; stroke-width: 2; rx: 8; ry: 8; }
    .box-blue { fill: #dceefc; stroke: #127fbf; }
    .box-green { fill: #e3f8ff; stroke: #2bb0ed; }
    .box-yellow { fill: #fffbea; stroke: #f0b429; }
    .box-red { fill: #fde2e1; stroke: #e12d39; }
    .arrow { stroke: #334e68; stroke-width: 2; marker-end: url(#arrowhead); }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#334e68" />
    </marker>
  </defs>

  <text x="20" y="38" class="title">AWS Cloud Deployment Overview</text>
  <text x="20" y="64" class="subtitle">Traffic enters through the Application Load Balancer and fans out to Fargate services, with data & secrets provided by managed AWS primitives.</text>

  <!-- Users -->
  <rect x="40" y="120" width="110" height="70" class="box" />
  <text x="55" y="155" class="label">Users /</text>
  <text x="55" y="175" class="label">Streamlit UI</text>

  <!-- ALB -->
  <rect x="200" y="130" width="150" height="90" class="box-blue" />
  <text x="215" y="165" class="label">AWS Application</text>
  <text x="215" y="185" class="label">Load Balancer</text>
  <text x="215" y="205" class="note">Routes /api ⟶ ECS API</text>
  <text x="215" y="225" class="note">Routes /mlflow ⟶ ECS MLflow</text>

  <!-- ECS API -->
  <rect x="410" y="80" width="170" height="100" class="box-green" />
  <text x="425" y="115" class="label">ECS Fargate Service</text>
  <text x="425" y="135" class="label">rakuten-api</text>
  <text x="425" y="155" class="note">FastAPI + Prometheus metrics</text>

  <!-- ECS MLflow -->
  <rect x="410" y="220" width="170" height="100" class="box-green" />
  <text x="425" y="255" class="label">ECS Fargate Service</text>
  <text x="425" y="275" class="label">rakuten-mlflow</text>
  <text x="425" y="295" class="note">MLflow UI + Tracking server</text>

  <!-- RDS -->
  <rect x="640" y="70" width="170" height="90" class="box-yellow" />
  <text x="655" y="105" class="label">Amazon RDS</text>
  <text x="655" y="125" class="label">PostgreSQL</text>
  <text x="655" y="145" class="note">MLflow backend store</text>

  <!-- S3 -->
  <rect x="640" y="200" width="170" height="90" class="box-yellow" />
  <text x="655" y="235" class="label">Amazon S3 Bucket</text>
  <text x="655" y="255" class="note">Artifacts • Datasets • Models</text>

  <!-- Secrets Manager -->
  <rect x="640" y="330" width="170" height="90" class="box-yellow" />
  <text x="655" y="365" class="label">AWS Secrets</text>
  <text x="655" y="385" class="label">Manager</text>
  <text x="655" y="405" class="note">DB creds • Model config</text>

  <!-- CloudWatch -->
  <rect x="410" y="360" width="170" height="90" class="box-red" />
  <text x="425" y="395" class="label">Amazon CloudWatch</text>
  <text x="425" y="415" class="note">Logs, alarms, insights</text>

  <!-- Prefect -->
  <rect x="200" y="320" width="150" height="90" class="box" />
  <text x="215" y="355" class="label">Prefect Flows</text>
  <text x="215" y="375" class="note">Monitoring + retraining</text>
  <text x="215" y="395" class="note">Triggers ECR deployments</text>

  <!-- Arrows -->
  <line x1="150" y1="170" x2="200" y2="170" class="arrow" />
  <line x1="350" y1="170" x2="410" y2="130" class="arrow" />
  <line x1="350" y1="170" x2="410" y2="270" class="arrow" />
  <line x1="580" y1="130" x2="640" y2="115" class="arrow" />
  <line x1="580" y1="130" x2="640" y2="235" class="arrow" />
  <line x1="580" y1="130" x2="640" y2="365" class="arrow" />
  <line x1="580" y1="270" x2="640" y2="245" class="arrow" />
  <line x1="580" y1="270" x2="640" y2="365" class="arrow" />
  <line x1="580" y1="405" x2="640" y2="365" class="arrow" />

  <line x1="350" y1="365" x2="410" y2="405" class="arrow" />
  <line x1="350" y1="365" x2="410" y2="260" class="arrow" />
  <line x1="350" y1="365" x2="410" y2="120" class="arrow" />

  <!-- Notes -->
  <text x="40" y="460" class="note">Deployment assets:</text>
  <text x="40" y="480" class="note">• Docker images pushed to Amazon ECR</text>
  <text x="40" y="500" class="note">• Task definitions in `task-definitions/`</text>

  <text x="640" y="480" class="note">Observability tip: run Prometheus/Grafana locally against the ALB for deeper metrics, while CloudWatch captures logs in the cloud.</text>
</svg>

